@using Coevery.UI.Navigation
@using NHibernate.Linq

@{
    var perspectives = Model.ItemList;
}
@if (perspectives.Length > 1) {
    <div id="nav-selector">
        <div class="dropdown">
            <a id="selector" class="dropdown-toggle" role="button" data-toggle="dropdown" href="#">
                <span data-label-placement title="{{currentMenu.Text.Text}}">{{currentMenu.Text.Text}}</span><b class="caret"></b>
            </a>
            <ul class="dropdown-menu bullet" role="menu" aria-labelledby="dLabel" data-ng-init="menus=@Json.Encode(Model)">
                <li data-ng-repeat="menu in menus" data-ng-class="{active: $uiRoute}" data-ui-route="{{menu.Href}}/?.*">
                    <a href="{{menu.Href}}" title="{{menu.Text.Text}}" data-ng-click="setcurrmenu({{menu.IdHint}})">
                        <label><strong>{{menu.Text.Text}}</strong></label>
                    </a>
                </li>
            </ul>
        </div>
    </div>
}