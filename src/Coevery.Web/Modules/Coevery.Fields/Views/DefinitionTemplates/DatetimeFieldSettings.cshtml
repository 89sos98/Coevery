@model Coevery.Fields.Settings.DatetimeFieldSettings
@using System.Globalization
@using Coevery.Core.Shapes.Localization
@using Coevery.Fields.Settings;

@{

    var cultureInfo = CultureInfo.GetCultureInfo(WorkContext.CurrentCulture);
    var dateTimeLocalization = WorkContext.Resolve<IDateTimeLocalization>();

    Func<DateTime?, string> FormatTime = date => date != null ? date.Value.ToString(dateTimeLocalization.ShortTimeFormat.Text, cultureInfo) : null;
}

<section class="control-group data-row">
    <label class="control-label">
        Default Value
    </label>
    <div class="controls input-prepend errortips" data-co-datetime-picker="time">
        <span class="add-on">
            <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
        </span>
        <input class="date" type="text"
           id="@Html.FieldIdFor(m => m.DefaultValue)"
           name="@Html.FieldNameFor(m => m.DefaultValue)"
           value="@FormatTime(Model.DefaultValue)"
           data-format="@dateTimeLocalization.ShortTimeFormat.Text"
           data-date-weekstart="@dateTimeLocalization.FirstDay" />
    </div>
</section>
@Display(New.DateTimePickerLocalization())

