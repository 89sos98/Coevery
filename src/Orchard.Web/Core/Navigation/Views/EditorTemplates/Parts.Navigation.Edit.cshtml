@model Orchard.Core.Navigation.ViewModels.NavigationPartViewModel
@using Orchard.ContentManagement

@{
    var contentManager = WorkContext.Resolve<IContentManager>();
}
<fieldset>
    <label>@T("Menu Items")</label>
    <span class="hint">@T("The menu items linking to this content item.")</span>
    @if(Model.ContentMenuItems.Any()) {
        <ul>
        @foreach(var menuPart in Model.ContentMenuItems) {
            var menuContentItem = contentManager.Get(menuPart.Menu.Id);
            var menuName = Html.ItemDisplayText(menuContentItem).ToString();
            <li>
                <div><span>@menuPart.MenuText</span> @T("on") <span>@Html.ActionLink(menuName, "Index", "Admin", new { area = "Navigation", menuId = menuContentItem.Id }, new {}) </span></div>
            </li>
        }
        </ul>
    }
    else {
        @T("Not displayed in any menu.")        
    }

    
</fieldset>
