@using Orchard.ContentManagement
@using Orchard.Utility.Extensions

@{
    ContentItem contentItem = Model.ContentItem;
}
<section data-ng-controller="GeneralViewCtrl">
    <header id="page-title">
        <h1 class="pull-left">@Html.ItemDisplayText(contentItem) <span>view a data</span></h1>
    </header>
    <section id="main-content">
        <div id="page-actions" class="clearfix">
            <btn-actions>
                <button class="btn btn-small" ng-click="exit()">Back</button>
                <button class="btn btn-small" ng-click="edit()">
                    <i class="icon-edit"></i>&nbsp;Edit
                </button>
             </btn-actions>
        </div>

        <div class="row-fluid">
            <section class="view-mode span12">
                @{ Output.Write(Model.Layout); }
            </section>
        </div>

        <section class="row-fluid related-list">
            <header>
                <h5>Open Activities</h5>
                <div class="btn-toolbar">
                    <button class="btn btn-small btn-success">
                        <i class="icon-plus"></i>&nbsp;New Task
                    </button>
                    <button class="btn btn-small btn-success">
                        <i class="icon-plus"></i>&nbsp;New Event
                    </button>
                </div>
            </header>
            <div class="gridStyle" data-ng-grid="openActivitiesOptions"></div>
        </section>

        <section class="row-fluid related-list">
            <header>
                <h5>Notes</h5>
                <div class="btn-toolbar">
                    <button class="btn btn-small btn-success">
                        <i class="icon-plus"></i>&nbsp;New Note
                    </button>
                </div>
            </header>
            <div class="gridStyle" data-ng-grid="notesOptions"></div>
        </section>


        <section class="row-fluid related-list">
            <header>
                <h5>{{moduleName}} History</h5>
            </header>
            <div class="gridStyle" data-ng-grid="historiesOptions"></div>
        </section>
    </section>
</section>
@Display(Model.Content)

<script>
    $(function () {
        $('.page-actions').affix({ offset: { top: 71 } });
    });
</script>
