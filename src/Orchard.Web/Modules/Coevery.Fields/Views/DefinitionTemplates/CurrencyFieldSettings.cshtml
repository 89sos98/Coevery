@model Coevery.Fields.Settings.CurrencyFieldSettings
@using Coevery.Fields.Settings;

<section class="control-group">
    <label class="control-label">
        Length
    </label>
    <div class="controls">
        @Html.TextBoxFor(l => l.Length,new { @class = "span12 digits" ,id = "currencyLength",name = "currencyLength"})
    </div>
</section>

<section class="control-group">
    <label class="control-label">
        Decimal Places
    </label>
    <div class="controls">
        @Html.TextBoxFor(d => d.DecimalPlaces,new { @class = "span12 digits" ,id = "currencyLength",name="currencyLength"})
    </div>
</section>  

<section class="control-group">
    <label class="control-label">
        Default Value
    </label>
    <div class="controls">
        @Html.TextBoxFor(d => d.DefaultValue,new { @class = "span12 number", maxLength = 18,id = "currencyDefault",name = "currencyDefault"})
    </div>
</section>

<script type="text/javascript">
    $(function () {
        var intLen = 0;
        var decLen = 0;
        $("#currencyLength").keyup(function () {
            var value = this.val();
            if ($.isNumeric(value) && Math.floor(value) == value) {
                intLen = value;
            } else {
                intLen = 0;
            }
            $("#currencyDefault").attr("maxLength", intLen+decLen);
        });
        $("#currencyLength").keyup(function () {
            var value = this.val();
            if ($.isNumeric(value) && Math.floor(value) == value) {
                decLen = value;
            } else {
                decLen = 0;
            }
            $("#currencyDefault").attr("maxLength", intLen + decLen);
        });
    });
</script>