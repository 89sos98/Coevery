@using Orchard.Utility.Extensions
@model Coevery.Metadata.ViewModels.AddFieldViewModel

@{
    Script.Include("controllers/editfieldinfocontroller.js");
}
@Display.FootScripts()

<header id="main-header" class="page-header" style="background-image: none; margin-bottom: 0;">
    <h1 id="main-heading" style="background-image: none;">Field Detail <span>Field add/edit</span></h1>
</header>
<section ng-controller="FieldEditInfoCtrl">
    <section class="page-actions">
        <div class="step2">
            <button class="btn" ng-click="prev()">Previous</button>
            <button class="btn" ng-click="next()">Next</button>
            <button class="btn" ng-click="exit()">Exit</button>
        </div>
        <div class="step3">
            <button class="btn" ng-click="back()">Previous</button>
            <button class="btn btn-primary" ng-click="save()">Save</button>
            <button class="btn" ng-click="exit()">Exit</button>
        </div>
    </section>
    <section id="main-content">
        <div class="row-fluid step2">
            <h5>Step 2. Enter the detail informations</h5>
            @using (Html.BeginFormAntiForgeryPost(Html.ViewContext.HttpContext.Request.Url.PathAndQuery, FormMethod.Post,
                                                  new { @class = "form-horizontal" })) {
                <fieldset>
                    <legend>
                        <h5>Information</h5>
                    </legend>
                    <section class="control-group">
                        <label class="control-label" for="@Html.FieldIdFor(m => m.DisplayName)">
                            @T("Field Label")
                        </label>
                        <div class="controls">
                            @Html.TextBoxFor(m => m.DisplayName, new { @class = "span12", autofocus = "autofocus" })
                        </div>
                    </section>
                    <section class="control-group">
                        <label class="control-label" for="@Html.FieldIdFor(m => m.Name)">
                            @T("Field Name")
                        </label>
                        <div class="controls">
                            @Html.TextBoxFor(m => m.Name, new { @class = "span12" })
                        </div>
                    </section>
                    <section class="control-group">
                        <label class="control-label">
                            @T("Options")
                        </label>
                        <div class="controls">
                            <label class="checkbox">
                                @Html.CheckBoxFor(m => m.Required)
                                @T("Required")
                            </label>
                            <label class="checkbox">
                                @Html.CheckBoxFor(m => m.ReadOnly)
                                @T("Read-Only")
                            </label>
                            <label class="checkbox">
                                @Html.CheckBoxFor(m => m.AlwaysInLayout)
                                @T("Always In Layout")
                            </label>
                            <label class="checkbox">
                                @Html.CheckBoxFor(m => m.IsAudit)
                                @T("IsAudit")
                            </label>
                        </div>
                    </section>
                    <section class="control-group">
                        <label class="control-label" for="@Html.FieldIdFor(m => m.HelpText)">
                            @T("Help Text")
                        </label>
                        <div class="controls">
                            @Html.TextAreaFor(m => m.HelpText, new { @class = "span12" })
                        </div>
                    </section>                    
                    @Html.HiddenFor(m=>m.FieldTypeName)
                </fieldset>
                <fieldset id="fieldPanel">
                    <legend>
                        <h5>Field Information</h5>
                    </legend>
                    @{ Html.RenderTemplates(Model.TypeTemplates); }
                </fieldset>
            }
        </div>
        <div class="row-fluid step3">
            <h5>Step 3. Confirm informations and add in layout</h5>
            <form class="form-horizontal">
                <section class="control-group">
                    <label class="control-label">
                        Field Label
                    </label>
                    <div class="controls">
                        <input type="text" class="span12" readonly ng-model="fieldLabel">
                    </div>
                </section>
                <section class="control-group">
                    <label class="control-label">
                        Field Name
                    </label>
                    <div class="controls">
                        <input type="text" class="span12" readonly ng-model="fieldName">
                    </div>
                </section>
                <section class="control-group">
                    <label class="control-label">
                        Options
                    </label>
                    <div class="controls">
                        <label class="checkbox">
                            <input type="checkbox" disabled ng-model="required" />
                            Required
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" disabled ng-model="readonly" />
                            Read-Only
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" disabled ng-model="alwaysInLayout" />
                            Always In Layout
                        </label>
                    </div>
                </section>
                <section class="control-group">
                    <label class="control-label">
                        Help Text
                    </label>
                    <div class="controls">
                        <textarea class="span12" readonly ng-model="helpText"></textarea>
                    </div>
                </section>
                <section class="control-group">
                    <label class="control-label">
                    </label>
                    <div class="controls">
                        <label class="checkbox">
                            <input type="checkbox" checked />
                            Add in layout
                        </label>
                    </div>
                </section>
            </form>
        </div>
    </section>
</section>

<script type="text/javascript">
    $(function () {
        $('.page-actions').affix({ offset: { top: 71 } });
    });
</script>
