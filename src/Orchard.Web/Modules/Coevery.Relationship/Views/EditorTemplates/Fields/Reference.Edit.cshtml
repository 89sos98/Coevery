@model Coevery.Relationship.Models.ReferenceFieldViewModel
@using System.Web.Mvc.Html
@using Coevery.Relationship.Settings
@using Orchard.Mvc.Html
@{
    var settings = Model.Field.PartFieldDefinition.Settings.GetModel<ReferenceFieldSettings>();
    var required = settings.Required ? "required" : null;
    var selectAttributes = new Dictionary<string, object> { { "class", "textMedium span12" } };
    
    if (settings.Required) {
        selectAttributes.Add("required","");
    }
}
<label class="span3 control-label @required" for="@Html.FieldIdFor(m => m.ContentId)">@Model.Field.DisplayName</label>
<div class="control controls">
    @Html.DropDownListFor(m => m.ContentId, Model.ItemList, selectAttributes)
    @if (!string.IsNullOrWhiteSpace(settings.HelpText)) {
        <span class="help-block">@settings.HelpText</span>
    }
</div>

