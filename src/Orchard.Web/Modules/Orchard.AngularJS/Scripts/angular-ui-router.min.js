!function (a, b, c) { "use strict"; function l(a, b) { return j(new (j(function () { }, { prototype: a })), b) } function m(a) { return i(arguments, function (b) { b !== a && i(b, function (b, c) { a.hasOwnProperty(c) || (a[c] = b) }) }), a } function n(a, b) { var c = []; for (var d in a.path) if ("" !== a.path[d]) { if (!b.path[d]) break; c.push(a.path[d]) } return c } function o(a, b, c, d) { var f, e = n(c, d), g = {}, h = []; for (var i in e) if (e[i].params && e[i].params.length) { f = e[i].params; for (var k in f) h.indexOf(f[k]) >= 0 || (h.push(f[k]), g[f[k]] = a[f[k]]) } return j({}, g, b) } function p(a, b) { var e = 1, h = 2, k = {}, l = [], n = k, o = j(a.when(k), { $$promises: k, $$values: k }); this.study = function (k) { function s(a, c) { if (r[c] !== h) { if (q.push(c), r[c] === e) throw q.splice(0, q.indexOf(c)), new Error("Cyclic dependency: " + q.join(" -> ")); if (r[c] = e, f(a)) p.push(c, [function () { return b.get(a) }], l); else { var d = b.annotate(a); i(d, function (a) { a !== c && k.hasOwnProperty(a) && s(k[a], a) }), p.push(c, a, d) } q.pop(), r[c] = h } } function t(a) { return g(a) && a.then && a.$$promises } if (!g(k)) throw new Error("'invocables' must be an object"); var p = [], q = [], r = {}; return i(k, s), k = q = r = null, function (e, f, h) { function v() { --s || (u || m(r, f.$$values), l.$$values = r, l.$$promises = !0, k.resolve(r)) } function w(a) { l.$$failure = a, k.reject(a) } function z(c, f, g) { function m(a) { j.reject(a), w(a) } function n() { if (!d(l.$$failure)) try { j.resolve(b.invoke(f, h, r)), j.promise.then(function (a) { r[c] = a, v() }, m) } catch (a) { m(a) } } var j = a.defer(), k = 0; i(g, function (a) { q.hasOwnProperty(a) && !e.hasOwnProperty(a) && (k++, q[a].then(function (b) { r[a] = b, --k || n() }, m)) }), k || n(), q[c] = j.promise } if (t(e) && h === c && (h = f, f = e, e = null), e) { if (!g(e)) throw new Error("'locals' must be an object") } else e = n; if (f) { if (!t(f)) throw new Error("'parent' must be a promise returned by $resolve.resolve()") } else f = o; var k = a.defer(), l = k.promise, q = l.$$promises = {}, r = j({}, e), s = 1 + p.length / 3, u = !1; if (d(f.$$failure)) return w(f.$$failure), l; f.$$values ? (u = m(r, f.$$values), v()) : (j(q, f.$$promises), f.then(v, w)); for (var x = 0, y = p.length; y > x; x += 3) e.hasOwnProperty(p[x]) ? v() : z(p[x], p[x + 1], p[x + 2]); return l } }, this.resolve = function (a, b, c, d) { return this.study(a)(b, c, d) } } function q(a, b, c) { this.fromConfig = function (a, b, c) { return d(a.template) ? this.fromString(a.template, b) : d(a.templateUrl) ? this.fromUrl(a.templateUrl, b) : d(a.templateProvider) ? this.fromProvider(a.templateProvider, b, c) : null }, this.fromString = function (a, b) { return e(a) ? a(b) : a }, this.fromUrl = function (c, d) { return e(c) && (c = c(d)), null == c ? null : a.get(c, { cache: b }).then(function (a) { return a.data }) }, this.fromProvider = function (a, b, d) { return c.invoke(a, null, d || { params: b }) } } function r(a) { function j(b) { if (!/^\w+(-+\w+)*$/.test(b)) throw new Error("Invalid parameter name '" + b + "' in pattern '" + a + "'"); if (c[b]) throw new Error("Duplicate parameter name '" + b + "' in pattern '" + a + "'"); c[b] = !0, h.push(b) } function k(a) { return a.replace(/[\\\[\]\^$*+?.()|{}]/g, "\\$&") } var f, b = /([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g, c = {}, d = "^", e = 0, g = this.segments = [], h = this.params = []; this.source = a; for (var l, m, n; (f = b.exec(a)) && (l = f[2] || f[3], m = f[4] || ("*" == f[1] ? ".*" : "[^/]*"), n = a.substring(e, f.index), !(n.indexOf("?") >= 0)) ;) d += k(n) + "(" + m + ")", j(l), g.push(n), e = b.lastIndex; n = a.substring(e); var o = n.indexOf("?"); if (o >= 0) { var p = this.sourceSearch = n.substring(o); n = n.substring(0, o), this.sourcePath = a.substring(0, e + o), i(p.substring(1).split(/[&?]/), j) } else this.sourcePath = a, this.sourceSearch = ""; d += k(n) + "$", g.push(n), this.regexp = new RegExp(d), this.prefix = g[0] } function s() { this.compile = function (a) { return new r(a) }, this.isMatcher = function (a) { return g(a) && e(a.exec) && e(a.format) && e(a.concat) }, this.$get = function () { return this } } function t(a) { function g(a) { var b = /^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source); return null != b ? b[1].replace(/\\(.)/g, "$1") : "" } function i(a, b) { return a.replace(/\$(\$|\d{1,2})/, function (a, c) { return b["$" === c ? 0 : Number(c)] }) } function k(a, b, c) { if (!c) return !1; var e = a.invoke(b, b, { $match: c }); return d(e) ? e : !0 } var b = [], c = null; this.rule = function (a) { if (!e(a)) throw new Error("'rule' must be a function"); return b.push(a), this }, this.otherwise = function (a) { if (f(a)) { var b = a; a = function () { return b } } else if (!e(a)) throw new Error("'rule' must be a function"); return c = a, this }, this.when = function (b, c) { var d, l = f(c); if (f(b) && (b = a.compile(b)), !l && !e(c) && !h(c)) throw new Error("invalid 'handler' in when()"); var m = { matcher: function (b, c) { return l && (d = a.compile(c), c = ["$match", function (a) { return d.format(a) }]), j(function (a, d) { return k(a, c, b.exec(d.path(), d.search())) }, { prefix: f(b.prefix) ? b.prefix : "" }) }, regex: function (a, b) { if (a.global || a.sticky) throw new Error("when() RegExp must not be global or sticky"); return l && (d = b, b = ["$match", function (a) { return i(d, a) }]), j(function (c, d) { return k(c, b, a.exec(d.path())) }, { prefix: g(a) }) } }, n = { matcher: a.isMatcher(b), regex: b instanceof RegExp }; for (var o in n) if (n[o]) return this.rule(m[o](b, c)); throw new Error("invalid 'what' in when()") }, this.$get = ["$location", "$rootScope", "$injector", function (a, d, e) { function g() { function d(b) { var c = b(e, a); return c ? (f(c) && a.replace().url(c), !0) : !1 } var h, g = b.length; for (h = 0; g > h; h++) if (d(b[h])) return; c && d(c) } return d.$on("$locationChangeSuccess", g), {} }] } function u(a, m, n) { function t(a) { return 0 === a.indexOf(".") || 0 === a.indexOf("^") } function u(a, b) { var d = f(a), e = d ? a : a.name, g = t(e); if (g) { if (!b) throw new Error("No reference point given for path '" + e + "'"); for (var h = e.split("."), i = 0, j = h.length, k = b; j > i; i++) if ("" !== h[i] || 0 !== i) { if ("^" !== h[i]) break; if (!k.parent) throw new Error("Path '" + e + "' not valid for state '" + b.name + "'"); k = k.parent } else k = b; h = h.slice(i).join("."), e = k.name + (k.name && h ? "." : "") + h } var l = q[e]; return !l || !d && (d || l !== a && l.self !== a) ? c : l } function v(b) { b = l(b, { self: b, resolve: b.resolve || {}, toString: function () { return this.name } }); var c = b.name; if (!f(c) || c.indexOf("@") >= 0) throw new Error("State must have a valid name"); if (q[c]) throw new Error("State '" + c + "'' is already defined"); for (var d in s) e(s[d]) && (b[d] = s[d](b, s.$delegates[d])); return q[c] = b, !b["abstract"] && b.url && a.when(b.url, ["$match", "$stateParams", function (a, c) { r.$current.navigable == b && A(a, c) || r.transitionTo(b, a, !1) }]), b } function w(a, b) { return f(a) && !d(b) ? s[a] : e(b) && f(a) ? (s[a] && !s.$delegates[a] && (s.$delegates[a] = s[a]), s[a] = b, this) : this } function x(a, b) { return g(a) ? b = a : b.name = a, v(b), this } function y(a, e, f, g, h, m, s) { function C(a, b, c, d, g) { var j = c ? b : B(a.params, b), k = { $stateParams: j }; g.resolve = h.resolve(a.resolve, k, g.resolve, a); var l = [g.resolve.then(function (a) { g.globals = a })]; return d && l.push(d), i(a.views, function (b, c) { var d = b.resolve && b.resolve !== a.resolve ? b.resolve : {}; d.$template = [function () { return f.load(c, { view: b, locals: k, params: j, notify: !1 }) || "" }], l.push(h.resolve(d, k, g.resolve, a).then(function (d) { d.$$controller = b.controller, d.$$state = a, g[c] = d })) }), e.all(l).then(function () { return g }) } var v = e.reject(new Error("transition superseded")), w = e.reject(new Error("transition prevented")), x = e.reject(new Error("transition aborted")), y = e.reject(new Error("transition failed")); return p.locals = { resolve: null, globals: { $stateParams: {} } }, r = { params: {}, current: p.self, $current: p, transition: null }, r.go = function (a, b, c) { return this.transitionTo(a, b, j({ inherit: !0, relative: r.$current }, c)) }, r.transitionTo = function (b, c, f) { d(f) || (f = f === !0 || f === !1 ? { location: f } : {}), c = c || {}, f = j({ location: !0, inherit: !1, relative: null, $retry: !1 }, f); var t, h = r.$current, i = r.params, n = h.path, q = u(b, f.relative); if (!d(q)) { var B = { to: b, toParams: c, options: f }; if (t = a.$broadcast("$stateNotFound", B, h.self, i), t.defaultPrevented) return x; if (t.retry) { if (f.$retry) return y; var D = r.transition = e.when(t.retry); return D.then(function () { return D !== r.transition ? v : (B.options.$retry = !0, r.transitionTo(B.to, B.toParams, B.options)) }, function () { return x }), D } if (b = B.to, c = B.toParams, f = B.options, q = u(b, f.relative), !d(q)) { if (f.relative) throw new Error("Could not resolve '" + b + "' from state '" + f.relative + "'"); throw new Error("No such state '" + b + "'") } } if (q["abstract"]) throw new Error("Cannot transition to abstract state '" + b + "'"); f.inherit && (c = o(m, c || {}, r.$current, q)), b = q; var F, G, E = b.path, H = p.locals, I = []; for (F = 0, G = E[F]; G && G === n[F] && A(c, i, G.ownParams) ; F++, G = E[F]) H = I[F] = G.locals; if (b === h && H === h.locals) return r.transition = null, e.when(r.current); if (c = z(b.params, c || {}), t = a.$broadcast("$stateChangeStart", b.self, c, h.self, i), t.defaultPrevented) return w; for (var J = e.when(H), K = F; K < E.length; K++, G = E[K]) H = I[K] = l(H), J = C(G, c, G === b, J, H); var L = r.transition = J.then(function () { var d, e, j; if (r.transition !== L) return v; for (d = n.length - 1; d >= F; d--) j = n[d], j.self.onExit && g.invoke(j.self.onExit, j.self, j.locals.globals), j.locals = null; for (d = F; d < E.length; d++) e = E[d], e.locals = I[d], e.self.onEnter && g.invoke(e.self.onEnter, e.self, e.locals.globals); r.$current = b, r.current = b.self, r.params = c, k(r.params, m), r.transition = null; var l = b.navigable; return f.location && l && s.url(l.url.format(l.locals.globals.$stateParams)), a.$broadcast("$stateChangeSuccess", b.self, c, h.self, i), r.current }, function (d) { return r.transition !== L ? v : (r.transition = null, a.$broadcast("$stateChangeError", b.self, c, h.self, i, d), e.reject(d)) }); return L }, r.is = function (a, e) { var f = u(a); return d(f) ? r.$current !== f ? !1 : d(e) ? b.equals(m, e) : !0 : c }, r.includes = function (a, e) { var f = u(a); if (!d(f)) return c; if (!d(r.$current.includes[f.name])) return !1; var g = !0; return b.forEach(e, function (a, b) { d(m[b]) && m[b] === a || (g = !1) }), g }, r.href = function (a, b, c) { c = j({ lossy: !0, inherit: !1, absolute: !1, relative: r.$current }, c || {}); var e = u(a, c.relative); if (!d(e)) return null; b = o(m, b || {}, r.$current, e); var f = e && c.lossy ? e.navigable : e, g = f && f.url ? f.url.format(z(e.params, b || {})) : null; return !n.html5Mode() && g && (g = "#" + g), c.absolute && g && (g = s.protocol() + "://" + s.host() + (80 == s.port() || 443 == s.port() ? "" : ":" + s.port()) + (!n.html5Mode() && g ? "/" : "") + g), g }, r.get = function (a) { if (!d(a)) { var b = []; return i(q, function (a) { b.push(a.self) }), b } var c = u(a); return c && c.self ? c.self : null }, r } function z(a, b) { var c = {}; return i(a, function (a) { var d = b[a]; c[a] = null != d ? String(d) : null }), c } function A(a, b, c) { if (!c) { c = []; for (var d in a) c.push(d) } for (var e = 0; e < c.length; e++) { var f = c[e]; if (a[f] != b[f]) return !1 } return !0 } function B(a, b) { var c = {}; return i(a, function (a) { c[a] = b[a] }), c } var p, r, q = {}, s = { parent: function (a) { if (d(a.parent) && a.parent) return u(a.parent); var b = /^(.+)\.[^.]+$/.exec(a.name); return b ? u(b[1]) : p }, data: function (a) { return a.parent && a.parent.data && (a.data = a.self.data = j({}, a.parent.data, a.data)), a.data }, url: function (a) { var b = a.url; if (f(b)) return "^" == b.charAt(0) ? m.compile(b.substring(1)) : (a.parent.navigable || p).url.concat(b); if (m.isMatcher(b) || null == b) return b; throw new Error("Invalid url '" + b + "' in state '" + a + "'") }, navigable: function (a) { return a.url ? a : a.parent ? a.parent.navigable : null }, params: function (a) { if (!a.params) return a.url ? a.url.parameters() : a.parent.params; if (!h(a.params)) throw new Error("Invalid params in state '" + a + "'"); if (a.url) throw new Error("Both params and url specicified in state '" + a + "'"); return a.params }, views: function (a) { var b = {}; return i(d(a.views) ? a.views : { "": a }, function (c, d) { d.indexOf("@") < 0 && (d += "@" + a.parent.name), b[d] = c }), b }, ownParams: function (a) { if (!a.parent) return a.params; var b = {}; i(a.params, function (a) { b[a] = !0 }), i(a.parent.params, function (c) { if (!b[c]) throw new Error("Missing required parameter '" + c + "' in state '" + a.name + "'"); b[c] = !1 }); var c = []; return i(b, function (a, b) { a && c.push(b) }), c }, path: function (a) { return a.parent ? a.parent.path.concat(a) : [] }, includes: function (a) { var b = a.parent ? j({}, a.parent.includes) : {}; return b[a.name] = !0, b }, $delegates: {} }; p = v({ name: "", url: "^", views: null, "abstract": !1 }), p.navigable = null, this.decorator = w, this.state = x, this.$get = y, y.$inject = ["$rootScope", "$q", "$view", "$injector", "$resolve", "$stateParams", "$location", "$urlRouter"] } function v() { function a(a, b) { return { load: function (c, d) { var e, f = { template: null, controller: null, view: null, locals: null, notify: !0, async: !0, params: {} }; return d = j(f, d), d.view && (e = b.fromConfig(d.view, d.params, d.locals)), e && d.notify && a.$broadcast("$viewContentLoading", d), e } } } this.$get = a, a.$inject = ["$rootScope", "$templateFactory"] } function w(a, c, e, f, g) { var h; try { h = f.get("$animator") } catch (i) { } var j = !1, k = { restrict: "ECA", terminal: !0, transclude: !0, compile: function (f, i, l) { return function (f, i, m) { function w(b) { var d = a.$current && a.$current.locals[p]; if (d !== o) { var h = s(r && b); if (h.remove(i), n && (n.$destroy(), n = null), !d) return o = null, u.state = null, h.restore(l(f), i); o = d, u.state = d.$$state; var j = c(h.populate(d.$template, i)); if (n = f.$new(), d.$$controller) { d.$scope = n; var k = e(d.$$controller, d); i.children().data("$ngControllerController", k) } j(n), n.$emit("$viewContentLoaded"), q && n.$eval(q), g() } } var n, o, p = m[k.name] || m.name || "", q = m.onload || "", r = d(h) && h(f, m), s = function (a) { return { "true": { remove: function (a) { r.leave(a.contents(), a) }, restore: function (a, b) { r.enter(a, b) }, populate: function (a, c) { var d = b.element("<div></div>").html(a).contents(); return r.enter(d, c), d } }, "false": { remove: function (a) { a.html("") }, restore: function (a, b) { b.append(a) }, populate: function (a, b) { return b.html(a), b.contents() } } }[a.toString()] }; i.append(l(f)); var t = i.parent().inheritedData("$uiView"); p.indexOf("@") < 0 && (p = p + "@" + (t ? t.state.name : "")); var u = { name: p, state: null }; i.data("$uiView", u); var v = function () { if (!j) { j = !0; try { w(!0) } catch (a) { throw j = !1, a } j = !1 } }; f.$on("$stateChangeSuccess", v), f.$on("$viewContentLoading", v), w(!1) } } }; return k } function x(a) { var b = a.match(/^([^(]+?)\s*(\((.*)\))?$/); if (!b || 4 !== b.length) throw new Error("Invalid state ref '" + a + "'"); return { state: b[1], paramExpr: b[3] || null } } function y(a) { return { restrict: "A", link: function (b, c, d) { var e = x(d.uiSref), f = null, h = a.$current, i = "FORM" === c[0].nodeName, j = i ? "action" : "href", k = !0, l = c.parent().inheritedData("$uiView"); l && l.state && l.state.name && (h = l.state); var m = function (b) { if (b && (f = b), k) { var d = a.href(e.state, f, { relative: h }); return d ? (c[0][j] = d, void 0) : (k = !1, !1) } }; e.paramExpr && (b.$watch(e.paramExpr, function (a) { a !== f && m(a) }, !0), f = b.$eval(e.paramExpr)), m(), i || c.bind("click", function (c) { var d = c.which || c.button; 1 != d || c.ctrlKey || c.metaKey || c.shiftKey || (a.go(e.state, f, { relative: h }), b.$apply(), c.preventDefault()) }) } } } function z(a, b) { function g(a) { this.locals = a.locals.globals, this.params = this.locals.$stateParams } function h() { this.locals = null, this.params = null } function i(c, i) { if (null != i.redirectTo) { var k, j = i.redirectTo; if (f(j)) k = j; else { if (!e(j)) throw new Error("Invalid 'redirectTo' in when()"); k = function (a, b) { return j(a, b.path(), b.search()) } } b.when(c, k) } else a.state(l(i, { parent: null, name: "route:" + encodeURIComponent(c), url: c, onEnter: g, onExit: h })); return d.push(i), this } function j(a, b, e) { function g(a) { return "" !== a.name ? a : c } var f = { routes: d, params: e, current: c }; return b.$on("$stateChangeStart", function (a, c, d, e) { b.$broadcast("$routeChangeStart", g(c), g(e)) }), b.$on("$stateChangeSuccess", function (a, c, d, e) { f.current = g(c), b.$broadcast("$routeChangeSuccess", g(c), g(e)), k(d, f.params) }), b.$on("$stateChangeError", function (a, c, d, e, f, h) { b.$broadcast("$routeChangeError", g(c), g(e), h) }), f } var d = []; g.$inject = ["$$state"], this.when = i, this.$get = j, j.$inject = ["$state", "$rootScope", "$routeParams"] } var d = b.isDefined, e = b.isFunction, f = b.isString, g = b.isObject, h = b.isArray, i = b.forEach, j = b.extend, k = b.copy; b.module("ui.router.util", ["ng"]), b.module("ui.router.router", ["ui.router.util"]), b.module("ui.router.state", ["ui.router.router", "ui.router.util"]), b.module("ui.router", ["ui.router.state"]), b.module("ui.router.compat", ["ui.router"]), p.$inject = ["$q", "$injector"], b.module("ui.router.util").service("$resolve", p), q.$inject = ["$http", "$templateCache", "$injector"], b.module("ui.router.util").service("$templateFactory", q), r.prototype.concat = function (a) { return new r(this.sourcePath + a + this.sourceSearch) }, r.prototype.toString = function () { return this.source }, r.prototype.exec = function (a, b) { var c = this.regexp.exec(a); if (!c) return null; var h, d = this.params, e = d.length, f = this.segments.length - 1, g = {}; if (f !== c.length - 1) throw new Error("Unbalanced capture group in route '" + this.source + "'"); for (h = 0; f > h; h++) g[d[h]] = c[h + 1]; for (; e > h; h++) g[d[h]] = b[d[h]]; return g }, r.prototype.parameters = function () { return this.params }, r.prototype.format = function (a) { var b = this.segments, c = this.params; if (!a) return b.join(""); var g, h, i, d = b.length - 1, e = c.length, f = b[0]; for (g = 0; d > g; g++) i = a[c[g]], null != i && (f += encodeURIComponent(i)), f += b[g + 1]; for (; e > g; g++) i = a[c[g]], null != i && (f += (h ? "&" : "?") + c[g] + "=" + encodeURIComponent(i), h = !0); return f }, b.module("ui.router.util").provider("$urlMatcherFactory", s), t.$inject = ["$urlMatcherFactoryProvider"], b.module("ui.router.router").provider("$urlRouter", t), u.$inject = ["$urlRouterProvider", "$urlMatcherFactoryProvider", "$locationProvider"], b.module("ui.router.state").value("$stateParams", {}).provider("$state", u), v.$inject = [], b.module("ui.router.state").provider("$view", v), w.$inject = ["$state", "$compile", "$controller", "$injector", "$anchorScroll"], b.module("ui.router.state").directive("uiView", w), y.$inject = ["$state"], b.module("ui.router.state").directive("uiSref", y), z.$inject = ["$stateProvider", "$urlRouterProvider"], b.module("ui.router.compat").provider("$route", z).directive("ngView", w) }(window, window.angular);