(function(){var n=Object.prototype.toString;define("common",[],function(){function t(){function u(n){return typeof n=="function"}function f(t){return!t||typeof t.length!="number"?!1:typeof t.hasOwnProperty!="function"&&typeof t.constructor!="function"?!0:typeof t=="JQLite"||typeof jQuery!="undefined"&&typeof t=="jQuery"||n.call(t)!=="[object Object]"||typeof t.callee=="function"}function t(n,i,r){var e;if(n)if(u(n))for(e in n)e!=="prototype"&&e!=="length"&&e!=="name"&&n.hasOwnProperty(e)&&i.call(r,n[e],e);else if(n.forEach&&n.forEach!==t)n.forEach(i,r);else if(f(n))for(e=0;e<n.length;e++)i.call(r,n[e],e);else for(e in n)n.hasOwnProperty(e)&&i.call(r,n[e],e);return n}function e(n,t){t?n.$$hashKey=t:delete n.$$hashKey}function i(n){var i=n.$$hashKey;return t(arguments,function(i){i!==n&&t(i,function(t,i){n[i]=t})}),e(n,i),n}function r(n,i){var f=Array.isArray(i),u=f&&[]||{};return f?(n=n||[],u=u.concat(n),t(i,function(t,i){typeof t=="object"?u[i]=r(n[i],t):n.indexOf(t)===-1&&u.push(t)})):(n&&typeof n=="object"&&t(Object.keys(n),function(t){u[t]=n[t]}),t(Object.keys(i),function(t){u[t]=typeof i[t]=="object"&&i[t]?n[t]?r(n[t],i[t]):i[t]:i[t]})),u}this.isDefined=function(n){return typeof n!="undefined"},this.isFunction=u,this.isString=function(n){return typeof n=="string"},this.isObject=function(n){return n!=null&&typeof n=="object"},this.isArray=function(t){return n.apply(t)==="[object Array]"},this.isArrayLike=f,this.forEach=t,this.setHashKey=e,this.extend=i,this.inherit=function(n,t){return i(new(i(function(){},{prototype:n})),t)},this.deepMerge=r,this.merge=function(n){return t(arguments,function(i){i!==n&&t(i,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}}return new t}),define("UrlMatcher",["common"],function(n){function t(t){function c(n){if(!/^\w+$/.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(h[n])throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'");h[n]=!0,p.push(n)}function l(n){return n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var s=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h={},e="^",f=0,r,o=this.segments=[],p=this.params=[],a,v,i,u,y;for(this.source=t;r=s.exec(t);){if(a=r[2]||r[3],v=r[4]||(r[1]==="*"?".*":"[^/]*"),i=t.substring(f,r.index),i.indexOf("?")>=0)break;e+=l(i)+"("+v+")",c(a),o.push(i),f=s.lastIndex}i=t.substring(f),u=i.indexOf("?"),u>=0?(y=this.sourceSearch=i.substring(u),i=i.substring(0,u),this.sourcePath=t.substring(0,f+u),n.forEach(y.substring(1).split(/[&?]/),c)):(this.sourcePath=t,this.sourceSearch=""),e+=l(i)+"$",o.push(i),this.regexp=new RegExp(e),this.prefix=o[0]}return t.prototype.concat=function(n){return new t(this.sourcePath+n+this.sourceSearch)},t.prototype.toString=function(){return this.source},t.prototype.exec=function(n,t){var f=this.regexp.exec(n);if(!f)return null;for(var r=this.params,e=r.length,o=this.segments.length-1,u={},i=0;i<o;i++)u[r[i]]=decodeURIComponent(f[i+1]);for(;i<e;i++)u[r[i]]=t[r[i]];return u},t.prototype.parameters=function(){return this.params},t.prototype.format=function(n){var r=this.segments,u=this.params;if(!n)return r.join("");for(var o=r.length-1,s=u.length,f=r[0],e,i,t=0;t<o;t++)i=n[u[t]],i!=null&&(f+=i),f+=r[t+1];for(;t<s;t++)i=n[u[t]],i!=null&&(f+=(e?"&":"?")+u[t]+"="+encodeURIComponent(i),e=!0);return f},t.prototype.isMatcher=function(n){return n instanceof t},t}),define("StateBase",["./common","UrlMatcher"],function(n,t){function i(){this.children={}}return Object.defineProperty(i.prototype,"self",{get:function(){return this}}),i.prototype.resetAll=function(){this.resetFullName(),this.resetUrl(),this.resetParams(),this.resetNavigable(),this.resetPath(),this.resetViews(),this.resetIncludes(),this.resetHandlers()},i.prototype.initialize=function(n){if(this.needsInit||n){this.resetAll();for(var t in this.children)this.children[t].initialize(!0);this.needsInit=!1}},Object.defineProperty(i.prototype,"fullName",{get:function(){return this._fullName}}),Object.defineProperty(i.prototype,"name",{get:function(){return this._fullName}}),Object.defineProperty(i.prototype,"localName",{get:function(){return this._localName},set:function(n){this.validateName(n),this._localName=n,this.needsInit=!0}}),i.prototype.resetFullName=function(){this._fullName=this.parent.fullName?this.parent.fullName+"."+this.localName:this.localName},i.prototype.toString=function(){return this.fullName},i.prototype.validateName=function(t){if(!n.isString(t)||t.indexOf("@")>=0)throw new Error("Invalid local state name ("+t+")");},Object.defineProperty(i.prototype,"root",{get:function(){return this.parent.root}}),Object.defineProperty(i.prototype,"children",{get:function(){return this._children},set:function(n){if(this._children=n,this._children)for(var t in this._children)this._children[t].parent=this}}),i.prototype.resetPath=function(){this.path=this.parent.path.concat(this)},Object.defineProperty(i.prototype,"url",{get:function(){return this._url},set:function(n){this._url=n,this.needsInit=!0}}),Object.defineProperty(i.prototype,"aliases",{get:function(){return this._aliases},set:function(n){this._aliases=n,this.needsInit=!0}}),i.prototype.resetUrl=function(){if(this.preparedUrl=null,n.isString(this.url))this.preparedUrl=this.url.charAt(0)==="^"?new t(this.url.substring(1)):(this.parent.navigable||this.root).preparedUrl.concat(this.url);else if(n.isObject(this.url)&&n.isFunction(this.url.exec)&&n.isFunction(this.url.format)&&n.isFunction(this.url.concat))this.preparedUrl=this.url;else if(this.url!=null)throw new Error("Invalid url "+this.url+" in state "+this);},Object.defineProperty(i.prototype,"params",{get:function(){return this._params},set:function(n){this._params=n,this.needsInit=!0}}),i.prototype.resetParams=function(){var i,t,r,u;if(this.preparedParams=null,i=this.params,i)if(n.isArray(i))if(this.preparedUrl)throw new Error("Both params and url specicified in state '"+this+"'");else this.perparedParams=i;else throw new Error("Invalid params in state '"+this+"'");else this.preparedParams=this.preparedUrl?this.preparedUrl.parameters():this.parent.preparedParams;t={},n.forEach(this.preparedParams,function(n){t[n]=!0}),this.parent?(r=this,n.forEach(this.parent.preparedParams,function(n){if(!t[n])throw new Error("Missing required parameter '"+n+"' in state '"+r.name+"'");t[n]=!1}),u=this.ownParams=[],n.forEach(t,function(n,t){n&&u.push(t)})):this.ownParams=this.preparedParams},i.prototype.resetNavigable=function(){this.navigable=this.url?this:this.parent?this.parent.navigable:null},Object.defineProperty(i.prototype,"abstract",{get:function(){return this._abstract},set:function(n){this._abstract=n,this.needsInit=!0}}),i.prototype.resetIncludes=function(){this.includes=this.parent?n.extend({},this.parent.includes):{},this.includes[this.name]=!0},Object.defineProperty(i.prototype,"views",{get:function(){return this._views},set:function(n){this._views=n,this.needsInit=!0}}),i.prototype.resetViews=function(){var t=this,i={},r=this.views;n.forEach(n.isDefined(r)?r:{"":t},function(n,r){r.indexOf("@")<0&&(r=r+"@"+t.parent.name),i[r]=n}),this.preparedViews=i},i.prototype.resetHandlers=function(){throw new Error('not implemented: "resetHandlers"');},i.prototype.newInstance=function(){return new i},i.prototype.getChild=function(n){return this.children?this.children[n]:null},i.prototype.setChild=function(t,i){var r=this.newInstance();return n.extend(r,t),this.setChildState(r,i)},i.prototype.removeChild=function(n){return this.children[n]&&delete this.children[n],this},i.prototype.setChildState=function(n,t){if(!t){var i=this.getChild(n.localName),r=i?i.children:null;r&&(n._children=r)}return this.children[n.localName]=n,n.parent=this,this.needsInit=!0,n},i.prototype.updateChild=function(t){var i=this.getChild(t.localName);return i?(n.extend(i,t),this.setChildState(i,!1)):this.setChild(t,!0)},i.prototype.prepFlatGetParent=function(n){var t,i;if(n.parent)t=this.getState(n.parent),i=n.fullName;else{var f=n.fullName?n.fullName:n.name,r=/^(.*?)\.?([^\.]*)$/.exec(f),u=r[1];i=r[2],t=u?this.getState(u):this.root}return n.localName=i,delete n.name,delete n.fullName,delete n.parent,t},i.prototype.setState=function(n,t){var i=this.prepFlatGetParent(n);return i.setChild(n,t)},i.prototype.updateState=function(n){var t=this.prepFlatGetParent(n);return t.updateChild(n)},i.prototype.findState=function(n){var i=/^([^\.]+)(\.(.*))?$/.exec(n),r=i[1],t;return this.localName===r?(t=i[3],t?this.findStateChildren(t):this):null},i.prototype.findStateChildren=function(n){var i,t;if(this.children)for(i in this.children)if(t=this.children[i].findState(n),t)return t;return null},i.prototype.getState=function(t){return n.isString(t)?this.root.findStateChildren(t):this.root.findStateChildren(t.fullName)},i.prototype.getIntJson=function(n,t,i){return n[i]?parseInt(n[i],10):n[t]?parseInt(n[t],10):null},i.prototype.getObjJson=function(n,t,i){return n[i]?n[i]:n[t]?n[t]:null},i.prototype.expandDefinition=function(n){this.expandJson(n,"url","u"),this.expandJson(n,"dependencies","d"),this.expandJson(n,"resolveByService","r"),this.expandJson(n,"templateService","i"),this.expandJson(n,"aliases","s"),this.expandJson(n,"controller","c"),this.expandJson(n,"templateUrl","t"),this.expandJson(n,"template","l"),this.expandJson(n,"data","a"),this.expandJson(n,"abstract","b"),this.expandJson(n,"views","v")},i.prototype.expandView=function(n){this.expandJson(n,"url","u"),this.expandJson(n,"resolveByService","r"),this.expandJson(n,"templateService","i"),this.expandJson(n,"controller","c"),this.expandJson(n,"templateUrl","t"),this.expandJson(n,"template","l"),this.expandJson(n,"data","a")},i.prototype.expandJson=function(n,t,i){n[i]&&(n[t]=n[i],delete n[i])},i.prototype.mergeChild=function(n,t){var h=this.getObjJson(t,"delete","x"),i,f,e,r,o,u,s;if(h)this.removeChild(n);else{if(i=this.getObjJson(t,"definition","d"),i){if(i.localName=n,this.expandDefinition(i),i.views)for(f in i.views)e=i.views[f],this.expandView(e);this.updateChild(i)}if(r=this.getObjJson(t,"children","c"),r){o=this.getChild(n);for(u in r)s=r[u],o.mergeChild(u,s)}}return!0},Object.defineProperty(i.prototype,"knownStates",{get:function(){var i={},n,r,t;if(Object.keys(this.children).length>0){n={};for(r in this.children)t=this.children[r],n[t.localName]=t.knownStates;i=n}return i}}),i}),function(){function n(n,t,i,r){function e(n){i.value.apply(null,n)}function o(n){i.factory.apply(null,n)}function s(n){r.register.apply(null,n)}function h(n){t.directive.apply(null,n)}function c(t){n.register.apply(null,t)}function u(n){function t(t,i){var r=t.defer();return require(n,function(){r.resolve(),i.$apply()}),r.promise}return t.$inject=["$q","$rootScope"],t}function f(n){if(n.dependencies){var t=n,i=n.dependencies;return delete t.dependencies,t.resolve={},t.resolve.delay=u(i),t}return n}this.resolveDependencies=u,this.resolveDependenciesProperty=f,this.$get=function(){var n={};return n.registerValue=e,n.registerFactory=o,n.registerFilter=s,n.registerDirective=h,n.registerController=c,n.resolveDependenciesProperty=f,n.resolveDependencies=u,n}}var t=angular.module("agt.couchPotato",["ng"]);n.$inject=["$controllerProvider","$compileProvider","$provide","$filterProvider"],t.provider("$couchPotato",n)}(),define("couchPotato",function(){}),define("detourModule",["couchPotato"],function(){return angular.module("agt.detour",["agt.couchPotato"])}),define("templateFactory",["./detourModule"],function(){function n(n,t,i){this.fromConfig=function(n,t,i){return angular.isDefined(n.template)?this.fromString(n.template,t):angular.isDefined(n.templateUrl)?this.fromUrl(n.templateUrl,t):angular.isDefined(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):angular.isDefined(n.templateService)?this.fromService(n.templateService,t,i):null},this.fromString=function(n,t){return angular.isFunction(n)?n(t):n},this.fromUrl=function(i,r){return angular.isFunction(i)&&(i=i(r)),i==null?null:n.get(i,{cache:t}).then(function(n){return n.data})},this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})},this.fromService=function(n,t,r){return i.invoke([n,function(n){return n.getTemplate(t,r)}])}}n.$inject=["$http","$templateCache","$injector"],angular.module("agt.detour").service("$templateFactory",n)}),define("detourProvider",["./common","UrlMatcher","StateBase","couchPotato","templateFactory","./detourModule"],function(n,t,i){function e(){function s(){this.children={}}function e(){this.locals={globals:{$stateParams:{}}},this.serial=0,this.resetAll()}function nt(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return t!==null?t[1].replace(/\\(.)/g,"$1"):""}function tt(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t[i==="$"?0:Number(i)]})}function c(t,i,r){if(!r)return!1;var u=t.invoke(i,i,{$match:r});return n.isDefined(u)?u:!0}function l(n,t){return t.fullName=n,o.setState(t),this}function a(n){return o.fallback=n,this}function v(){o.initialize()}function y(n){var t=this.getState(n);return t&&t.parent.removeChild(t.localName),this}function p(n){return o.setState(n)}function w(n){return o.updateState(n)}function b(n){return o.getState(n)}function k(n){return o.mergeJson(n)}function d(t,i,r,u,f,e,s,h){function it(n){var r=i.defer(),t=null;return d.crossDomain?(t=angular.copy(nt,t),delete t.headers.common["X-Requested-With"],t.useXDomain=!0):t=angular.copy(nt,t),t.transformResponse=function(data){return eval("("+data+")")},t=angular.extend(t,{method:d.httpMethod,url:n}),h(t).success(function(n){r.resolve(n)}).error(function(){r.resolve(null)}),r.promise}function ot(n){var r=d.lazy.routeUrl+"?"+d.lazy.routeParameter+"="+encodeURIComponent(n)+"&"+d.knownStatesParameter+"="+encodeURIComponent(angular.toJson(o.knownStates)),t=i.defer();return it(r).then(function(n){n&&o.mergeJson(n),t.resolve()}),t.promise}function st(n){var r=d.lazy.stateUrl+"?"+d.lazy.stateParameter+"="+encodeURIComponent(n)+"&"+d.knownStatesParameter+"="+encodeURIComponent(angular.toJson(o.knownStates)),t=i.defer();return it(r).then(function(n){n&&o.mergeJson(n),t.resolve()}),t.promise}function rt(r,s,h,l){var ot=o.getState(r),g,b,ft;if(ot||!d.lazy.enabled||l){if(r=ot,n.isDefined(h)||(h=!0),r.abstract)throw new Error("Cannot transition to abstract state '"+r+"'");for(var y=r.path,p=c.$current,k=c.params,nt=p.path,w=o.locals,it=[],a=0,v=y[a];v&&v===nt[a]&&ct(s,k,v.ownParams);a++,v=y[a])w=it[a]=v.locals;if(r===p&&w===p.locals)return c.transition=null,i.when(c.current);if(s=ut(r.preparedParams,s||{}),t.$broadcast("$stateChangeStart",r.self,s,p.self,k).defaultPrevented)return et;for(g=i.when(w),b=a;b<y.length;b++,v=y[b])w=it[b]=n.inherit(w),g=ht(v,s,v===r,g,w);return ft=c.transition=g.then(function(){var n,i,o,l;if(c.transition!==ft)return tt;for(n=nt.length-1;n>=a;n--)o=nt[n],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(n=a;n<y.length;n++)i=y[n],i.locals=it[n],i.self.onEnter&&u.invoke(i.self.onEnter,i.self,i.locals.globals);return c.$current=r,c.current=r.self,c.params=s,angular.copy(c.params,f),c.transition=null,l=r.navigable,h&&l&&e.url(l.preparedUrl.format(l.locals.globals.$stateParams)),t.$broadcast("$stateChangeSuccess",r.self,s,p.self,k),c.current},function(n){return c.transition!==ft?tt:(c.transition=null,t.$broadcast("$stateChangeError",r.self,s,p.self,k,n),i.reject(n))})}return st(r).then(function(){return rt(r,s,h,!0)})}function ht(t,f,e,o,h){var c=[];return t.dependencies&&c.push(i.when(u.invoke(s.resolveDependencies(t.dependencies)))),i.all(c).then(function(){function v(r,f){n.forEach(r,function(r,e){c.push(i.when(n.isString(r)?u.get(r):u.invoke(r,t.self,l)).then(function(n){f[e]=n}))})}function y(t,r){n.forEach(t,function(n,t){c.push(i.when(u.invoke([n,function(n){return n.resolve(s,l)}])).then(function(n){r[t]=n}))})}var c=[o],s,l,a;return e?s=f:(s={},n.forEach(t.preparedParams,function(n){s[n]=f[n]})),l={$stateParams:s},a=h.globals={$stateParams:s},v(t.resolve,a),y(t.resolveByService,a),a.$$state=t,n.forEach(t.preparedViews,function(n,u){var f=h[u]={$$controller:n.controller};c.push(i.when(r.fromConfig(n,s,l)||"").then(function(n){f.$template=n})),n.resolve!==t.resolve&&v(n.resolve,f)}),i.all(c).then(function(i){return n.merge(h.globals,i[0].globals),n.forEach(t.preparedViews,function(t,i){n.merge(h[i],h.globals)}),h})})}function ut(t,i){var r={};return n.forEach(t,function(n){var t=i[n];r[n]=t!=null?String(t):null}),r}function ct(n,t,i){for(var u,r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function ft(t,i,r,f){var h=!d.lazy.enabled||f,s=o.tryHandle(u,e,h);s&&n.isString(s)&&e.replace().url(s),s||f||!d.lazy.enabled||ot(e.path()).then(function(){ft(t,i,r,!0)})}var tt=i.reject(new Error("transition superseded")),et=i.reject(new Error("transition prevented")),d=g.loader,c={params:{},current:o.self,$current:o,stateLoader:d,transition:null},nt;return c.registerValue=s.registerValue,c.registerFactory=s.registerFactory,c.registerFilter=s.registerFilter,c.registerDirective=s.registerDirective,c.registerController=s.registerController,c.state=l,c.otherwise=a,c.initialize=v,c.setState=p,c.updateState=w,c.getState=b,c.removeState=y,c.mergeJson=k,nt=h.defaults,c.transitionTo=rt,c.is=function(n){return c.$current===o.getState(n)},c.includes=function(n){var t=o.getState(n);return t?c.$current.includes[t.name]:!1},c.href=function(n,t){var i=this.getState(n),r=i.navigable;if(!r)throw new Error("State '"+i+"' is not navigable");return r.url.format(ut(i.preparedParams,t||{}))},t.$on("$locationChangeSuccess",ft),c}var g=this,o,h;s.prototype=new i,s.prototype.constructor=s,s.prototype.newInstance=function(){return new s},s.prototype._buildRule=function(i,u){var f,e;if(n.isString(i)&&(i=new t(i)),i instanceof t){if(n.isString(u))e=new t(u),u=[r,function(n){return e.format(n)}];else if(!n.isFunction(u)&&!n.isArray(u))throw new Error("invalid 'handler' in when()");f=function(n,t){return c(n,u,i.exec(t.path(),t.search()))},f.prefix=n.isString(i.prefix)?i.prefix:""}else if(i instanceof RegExp){if(n.isString(u))e=u,u=[r,function(n){return tt(e,n)}];else if(!n.isFunction(u)&&!n.isArray(u))throw new Error("invalid 'handler' in when()");if(i.global||i.sticky)throw new Error("when() RegExp must not be global or sticky");f=function(n,t){return c(n,u,i.exec(t.path()))},f.prefix=nt(i)}else throw new Error("invalid 'what' in when()");return f},s.prototype.resetHandlers=function(){if(this[f]||!this.preparedUrl){this.handleUrl=null;return}var i=this.preparedUrl,t=this,e=[r,u,function(n,i){i.transitionTo(t,n,!1)}];this.handleUrl=this._buildRule(i,e),this.preparedAliases=[],this.aliases&&n.forEach(this.aliases,function(n,i){n=n.charAt(0)==="^"?n.substring(1):(t.parent.navigable||t.root).preparedUrl.concat(n).source,t.preparedAliases.push(t._buildRule(i,n))})},s.prototype.tryHandle=function(n,t){var i=!1,r,u;if(this.handleUrl)for(i=this.handleUrl(n,t),r=0;r<this.preparedAliases.length&&!i;r++)i=this.preparedAliases[r](n,t);if(!i)for(u in this.children)if(i=this.children[u].tryHandle(n,t),i)break;return i},e.prototype=new s,e.prototype.constructor=e,e.prototype.initialize=function(){for(var n in this.children)this.children[n].initialize(!1);this.needsInit=!1},e.prototype.tryHandle=function(n,t,i){var u=this,r=s.prototype.tryHandle.call(u,n,t);return!r&&i&&this.fallback&&(r=this.fallback(n,t)),r},Object.defineProperty(e.prototype,"fallback",{get:function(){return this._fallback},set:function(t){if(n.isString(t)){var i=t;this._fallback=i?function(){return i}:null}else if(!isFunction(rule))throw new Error("'rule' must be a function");}}),e.prototype.resetFullName=function(){},e.prototype.resetPath=function(){},Object.defineProperty(e.prototype,"name",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return""}}),Object.defineProperty(e.prototype,"url",{get:function(){return"^"}}),Object.defineProperty(e.prototype,"views",{get:function(){return{}}}),Object.defineProperty(e.prototype,"abstract",{get:function(){return!0}}),Object.defineProperty(e.prototype,"path",{get:function(){return[]}}),Object.defineProperty(e.prototype,"root",{get:function(){return this}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return!0}}),Object.defineProperty(e.prototype,"fullName",{get:function(){return null}}),Object.defineProperty(e.prototype,"navigable",{get:function(){return null},set:function(){}}),e.prototype.mergeJson=function(n){var i=this.getIntJson(n,"serial","s"),t,r,f,u;if(i&&i<=this.serial)return!1;if(t=this.getObjJson(n,"tree","t"),t)for(r in t)f=t[r],this.mergeChild(r,f);return u=this.getObjJson(n,"fallback","f"),u&&(this.fallback=u),this.serial=i,this.initialize(),!0},Object.defineProperty(e.prototype,"knownStates",{get:function(){var t={s:this.serial,f:this.fallback},i={},n,r;for(n in this.children)r=this.children[n],i[n]=r.knownStates;return t.t=i,t}}),o=new e,this.state=l,this.otherwise=a,this.initialize=v,this.removeState=y,this.setState=p,this.updateState=w,this.getState=b,this.mergeJson=k,h={lazy:{enabled:!1,routeUrl:null,stateUrl:null,routeParameter:"r",stateParameter:"s"},httpMethod:"GET",knownStatesParameter:"k",updatesUrl:null,crossDomain:!1,autoUpdateMinutes:0},Object.defineProperty(this,"loader",{get:function(){return h},set:function(t){h=n.deepMerge(h,t)}}),d.$inject=["$rootScope","$q","$templateFactory","$injector","$stateParams","$location","$couchPotato","$http"],this.$get=d}var r="$match",f="abstract",u="$detour";angular.module("agt.detour").value("$stateParams",{}).provider(u,e)}),define("viewDirective",["./common","./detourModule","./detourProvider"],function(n){function t(t,i,r,u,f){var e,o;try{e=u.get("$animator")}catch(s){}return o={restrict:"ECA",terminal:!0,link:function(u,s,h){function w(n){var e=t.$current&&t.$current.locals[l],o,h,w;e!==y&&(a&&n?a.leave(s.contents(),s):s.html(""),c&&(c.$destroy(),c=null),e?(y=e,v.state=e.$$state,a&&n?(o=angular.element("<div><\/div>").html(e.$template).contents(),a.enter(o,s)):(s.html(e.$template),o=s.contents()),h=i(o),c=u.$new(),e.$$controller&&(e.$scope=c,w=r(e.$$controller,e),s.children().data("$ngControllerController",w)),h(c),c.$emit("$viewContentLoaded"),c.$eval(k),f()):(y=null,v.state=null,n?a.enter(p,s):s.html(p)))}var c,y,p=s.contents(),l=h[o.name]||h.name||"",k=h.onload||"",a=n.isDefined(e)&&e(u,h),b=s.parent().inheritedData("$uiView"),v;l.indexOf("@")<0&&(l=l+"@"+(b?b.state.name:"")),v={name:l,state:null},s.data("$uiView",v),u.$on("$stateChangeSuccess",function(){w(!0)}),w(!1)}}}t.$inject=["$detour","$compile","$controller","$injector","$anchorScroll"],angular.module("agt.detour").directive("uiView",t)}),define("angular-detour",["./detourProvider","./viewDirective"],function(){})})();
//@ sourceMappingURL=angular-detour.amd.min.js.map